# 애뮬레이터 테스트 가이드

## 준비 사항

### 1. Android 애뮬레이터 (Windows 권장)

**필요한 것**:
- Android Studio 설치
- Android SDK 설치
- Android Virtual Device (AVD) 생성

**설치 방법**:
1. [Android Studio](https://developer.android.com/studio) 다운로드 및 설치
2. Android Studio 실행 → More Actions → Virtual Device Manager
3. Create Device → 원하는 기기 선택 (예: Pixel 5)
4. 시스템 이미지 선택 (API 33 이상 권장)
5. AVD 생성 완료

### 2. iOS 시뮬레이터 (Mac만 가능)

**필요한 것**:
- Xcode 설치
- iOS 시뮬레이터

**설치 방법**:
1. App Store에서 Xcode 설치
2. Xcode → Preferences → Components에서 시뮬레이터 다운로드

## 실행 방법

### Android 애뮬레이터

1. **애뮬레이터 실행**:
   ```bash
   # Android Studio에서 AVD 실행
   # 또는 명령줄에서:
   emulator -avd <AVD_NAME>
   ```

2. **Expo 개발 서버 시작**:
   ```bash
   npm start
   # 또는
   npm run android
   ```

3. **연결 확인**:
   - Expo 개발 서버가 시작되면 QR 코드와 메뉴가 표시됨
   - `a` 키를 눌러 Android 애뮬레이터에 자동 연결
   - 또는 Expo Go 앱을 애뮬레이터에 설치하고 QR 코드 스캔

### iOS 시뮬레이터 (Mac만)

1. **시뮬레이터 실행**:
   ```bash
   open -a Simulator
   ```

2. **Expo 개발 서버 시작**:
   ```bash
   npm start
   # 또는
   npm run ios
   ```

3. **자동 연결**:
   - `i` 키를 눌러 iOS 시뮬레이터에 자동 연결

## 문제 해결

### Android 애뮬레이터가 연결되지 않는 경우

1. **ADB 확인**:
   ```bash
   adb devices
   ```
   - 애뮬레이터가 목록에 나타나야 함

2. **애뮬레이터 재시작**:
   - Android Studio에서 AVD 재시작

3. **포트 확인**:
   - 기본 포트: 8081 (Metro bundler)
   - 방화벽에서 차단되지 않았는지 확인

### iOS 시뮬레이터가 연결되지 않는 경우

1. **Xcode Command Line Tools 확인**:
   ```bash
   xcode-select --print-path
   ```

2. **시뮬레이터 재시작**:
   - 시뮬레이터 완전 종료 후 재시작

### Expo Go 앱 설치 (필요한 경우)

**Android**:
- Google Play Store에서 "Expo Go" 검색 및 설치

**iOS**:
- App Store에서 "Expo Go" 검색 및 설치

## 개발 서버 옵션

### 기본 실행
```bash
npm start
```

### 특정 플랫폼 실행
```bash
npm run android  # Android만
npm run ios      # iOS만 (Mac)
npm run web      # 웹 브라우저
```

### 개발 서버 옵션
- `a` - Android 애뮬레이터 열기
- `i` - iOS 시뮬레이터 열기 (Mac)
- `w` - 웹 브라우저 열기
- `r` - 앱 리로드
- `m` - 메뉴 토글

## 다음 단계

1. 애뮬레이터 실행 확인
2. Expo 개발 서버 시작
3. 앱이 정상적으로 로드되는지 확인
4. 채팅 기능 테스트

## 참고

- 개발 서버는 `http://localhost:8081`에서 실행됨
- Hot Reload가 활성화되어 있어 코드 변경 시 자동 새로고침됨
- SillyTavern 백엔드가 `http://127.0.0.1:8000`에서 실행 중이어야 함

